{% extends "base.html" %}
{% block more_js %}
  <script type="text/javascript" src="/resources/js/admin.js"></script>
{% endblock %}
{% block content %}
  <h5>All your base</h5>
  <div id="new-test-point" class="button">Insert Test Point</div>
  <div id="start-inserting-test-points" class="button">Start Repeatedly Inserting Test Points</div>

  <h3>Secrets ({{ secrets.count() }})</h3>
  <table cellspacing="0" cellpadding="8" border="1">
    <tr>
      <th>Email</th>
      <th>Readable Secret</th>
      <th>Secret</th>
      <th>Iterations to Find Secret</th>
      <th>Data Points</th>
    </tr>
    {% for d in data %}
      <tr>
	<td>{{ d.secret.user.nickname() }}</td>
	<td>{{ d.secret.secret_readable }}</td>
	<td>{{ d.secret.secret }}</td>
	<td>{{ d.secret.niters }}</td>
	<td>
	  <a href="/view_data?secret={{ d.secret.secret }}">
	    {% if d.num_locations > 999 %}
	    Over 1,000
	    {% else %}
	    {{ d.num_locations }}
	    {% endif %}
	  </a>
	</td>
      </tr>
    {% endfor %}
  </table>
{% endblock %}
